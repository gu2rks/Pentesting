### Distribution
cat /etc/*-release
lsb_release -a
hostnamectl 				for GNU-based best

### Kernelversion
uname -a
cat /proc/version

## Running services
systemctl list-unit-files	CentOS/RHEL 7.x 

## Find specific files and folders
find / -name "*.err" ----- Searching whole drive
find . -name "*.err" ----- Searching current drive

## Hostname
uname -sr | tee $(hostname -s)-os-name-version.txt  

## Apache version
apache2 -v | tee $(hostname -s)-apache-version.txt  

## OpenSSH version
sshd -V  | tee $(hostname -s)-openssh-version.txt  

## MySQL version
mysql --version  | tee $(hostname -s)-mysql-version.txt  
 		
## Log Analysis
To perform a simple search, enter your search string followed by the file you want to search. Here, we search the authentication log for lines containing “user testuser”.  
grep "user testuser" /var/log/auth.log

This is a regex that only returns instances of 4792 preceded by “port” and an empty space. This can be handy when filtering ports
grep -P "(?<=port\s)4792" /var/log/auth.log

### Surround Search
The -B flag specifies how many lines to return before the event, and the -A flag specifies the number of lines after.
grep -B 3 -A 2 'testuser' /var/log/auth.log

### Cut
The cut command allows you to parse fields from delimited logs. Delimiters are characters like equal signs or commas that break up fields or key-value pairs.  
Let’s say we want to parse the user from this log:  

pam_unix(su:auth): authentication failure; logname=testuser uid=1000 euid=0 tty=/dev/pts/0 ruser=hoover rhost=  user=root  

We can use the cut command like this to get the eighth match. It will be the character after the eight "=" sign.  
 
$ grep "authentication failure" /var/log/auth.log | cut -d '=' -f 8
root

### Awk
Awk is a powerful command line tool that provides a complete scripting language. For example, let’s say we want to extract the username from all failed login attempts. Our logs have the following format.  

Mar 24 08:28:18 ip-172-31-11-241 sshd[32701]: input_userauth_request: invalid user guest [preauth]  

Here’s how you can use the awk command. First, we use the regular expression /sshd.*invalid user/ to match the sshd invalid user lines. Then print the ninth field using the default delimiter (a space character) using { print $9 }. This outputs the usernames.  

$ awk '/sshd.*invalid user/ { print $9 }' /var/log/auth.log  
guest  

